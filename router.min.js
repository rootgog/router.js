var Router={routes:{},on:function(e,t){return"function"==typeof e&&(t=e,e="/"),this.routes[e]=t,this},notFound:function(e){return this.notFound=e,this},resolve:function(e = window.location.pathname){e=e.length>1&&"/"==e[0]?e.slice(1):e;for(var t in this.routes){if(e==t)return this.setURL(t),void this.routes[t]();if(regex=t.replace(/\//g,"\\/"),regex=regex.replace(/\*/g,"[^ ]*"),regex="(^|s)"+regex+"(s|$)",regex=new RegExp(regex,"g"),e.match(regex))return this.setURL(t),void this.routes[t]()}this.notFound()},sendTo:function(e){this.resolve(e)},setURL:function(e){e="/"==e[0]?e.slice(1):e,history.pushState(null,null,"/"+e)}};window.addEventListener("popstate",function(){Router.resolve()});
